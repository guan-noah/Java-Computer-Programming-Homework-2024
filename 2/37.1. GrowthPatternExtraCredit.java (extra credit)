//GrowthPatternExtraCredit.java
/* Noah Guan
 * 01-13-2025
 * Per. 6 Java w/ Mr. Yu
 * GrowthPatternExtraCredit.java
 * Program #37.1
 * Pseudocode: 

d&i fv height (in constructor) 
main 
	d&i new instance of class 
	use instance to call run method 
void growIt (program name, program description)
	print 3 lines 
	do 
		print welcome (header and intro) 
		call real meat of program method 
		for (int time = 0; time < height.length; time++)
    	{
    		height[time] = height[time] + 5 
				//don't do this. do it later when using it 
    		printSymbols(time)
    		printRate()
    	}
	    all heights 
	while (<call> userPlaying)
	print 3 lines

boolean userPlaying 
	declare userPlay, 
	declare userdecision to <call> input of would you like to run again, next 
	if userdecision = yes, userPlay = true. 
	else if userdecision = no, userPlay = false. 
	else user didn't input yes or no, prompt them to answer correctly, <call> userPlaying again 
	return userPlay 
String getInput (promptIn, get)
	new instance of Scanner called keyboard 
	print promptIn and format for answer
	if get = "line", get .nextLine()
	else if get = "word" or "next", return .next()
	else if get = "int", return .nextInt()
	else if get = "double", return .nextDouble()
	else, print (internal) error, return null 
String decideSymbols(time)
	//type of symbols = if one to the next is decreasing, same, or increasing
	d&i returnString to ""
	find out the type (using if)
	returnString = 
	for(int i = 0, i < howManySymbols, i++)
	{
	    returnString = returnString + type 
	}
	return returnString
printSymbols(time)
	System.out.printf(%5d + "t " + decideSymbols(time) + "\n", time);
printRate()
    print out ("The average rate of change is " + (lastItem - initialItem / (height.length - 1) ))

/* extra credit pseudocode 
int[] userHeight = call getUserInfo();
formatOutput
		char zeroChar = '|'; 
		if (decideSymbols(timeIn).charAt(0) = '-')
		{
			zeroChar = '-';
		}
		else if (decideSymbols(timeIn).charAt(0) = '+')
		{
			zeroChar = '+';
		}
		else 
			//nothing because (decideSymbols(timeIn).charAt(0) = 'o')
		System.out.printf("%-5s%6s%1s%s\n", ("t" + (timeIn-1)), before, zeroChar, after;
*/
/*OPTION 1: 
import java.util.ArrayList;
import java.util.List;
*/
/*
getUserInfo();
int[] getUserInfo()
		System.out.println("Now it's your turn. Please enter your heights " + 
			"in order from initial height to ending height.");
		int userNextHeight;
		*/
		
		/* OPTION 1: 
		List<int> userHeightList = new ArrayList<>();
		do
		{
			if (!(userNextWord.equalsIgnoreCase("quit")))
			{
				userHeightList.add(getInput("Please enter the next height of your plant.", "int"));
			}
		} while (userNextWord.equalsIgnoreCase("quit")); //acts as the else 
		list.toArray(userHeight);
		int[] userHeight = list.toArray(new userHeight[0]);
		*/
		
		/* OPTION 2: 
		int[] userHeight = int[Integer.parseInt(getInput("Please enter the total number " + 
			"of time periods you want to track", "int"))];
		for (int i = 0; i < userHeight.length; i++)
		{
			userHeight[i] = getInput("Please enter the next height of your plant.", "int"); 
		}
		
		//or userHeight int[] = new int[userHeightList.size()];
	    	// by https://stackoverflow.com/questions/9572795/convert-list-to-array-in-java
		*/
		
		/*
		return userHeight;
		
		
finish: 
2. gradeStats program 
3. upload to my experiments (noah utils) github 
 */
class GrowthPatternExtraCredit 
{
    private int[] height;
    public GrowthPatternExtraCredit()
    {
        height = new int[] {-1, -3, 1, 2, 3, 4, 3, 4, 4, 6, 8, 6, 6, 7, 10};
    }
    public static void main(String args[]) 
    {
        GrowthPatternExtraCredit gpec = new GrowthPatternExtraCredit();
        gpec.growIt("GrowthPatternExtraCredit", "monitors the growth of a plant over time. ");
    }
    public void growIt(String programName, String programDescription)
    {
        System.out.println("\n\n\n");
        //declare variables outside of while loop 
        int[] height1 = height; 
            //declaring the first instance variable to field variable 
        int runNum = 0; 
            //we will increment this every time we run the main part of the program 
        String toPrint = "";
            //d&i toPrint
		do
        {
            System.out.println("\nWelcome to " + programName + 
                ". \nThis program " + programDescription);
                //header and intro section 
            runNum++; //for the number of times run 
            //call the real meat of the program method 
            int innerRunNum = 0; //(same logic)
            do
            {
                innerRunNum++;
                //change toPrint based 
                if (innerRunNum == 1)
                {
                    toPrint = "\nExample: ";
                }
                else //user interactive stage starts
                {
                    //to initialize toPrint 
                    if (innerRunNum == 2)
                        toPrint = "Now it's your turn.";
                    else //innerRunNum > 2
                    {
                        toPrint = ""; //don't have to prompt them by now, they should know 
					}
                }
                int[] heightArray = getUserArray(toPrint, height1);
                    //uses method to decide heightArray 
                for (int time = 1; time < heightArray.length; time++)
            	{
            		formatOutput(heightArray, time);
						//instead of printSymbols(heightArray, time);
            	}
            	printRate(heightArray);
            } while(getInput("Would you like to run again? (if you format your answer incorrectly, the program will terminate.) [Y/N]", "next").equalsIgnoreCase("Y"));
                //checks if the user would like to run again 
            runNum++;
        	System.out.println();//separate one from the next 
        } while(userPlaying());
        System.out.println("Thank you for using " + programName + ". ");
        System.out.println("\n\n\n");
    }
    //extra credit section
	public int[] getUserArray(String toPrintIn, int[] height1In)
	{
	    System.out.println(toPrintIn);
	    if (toPrintIn.charAt(0) == '\n')
	        return height1In;
	    else  //(toPrint.charAt(0) == 'N') and all else
	    {
    	    System.out.println("Now it's your turn. Please enter your heights " + 
    			"in order from initial height to ending height.");
    		int userNextHeight;
    		int[] userHeight = new int[Integer.parseInt(getInput("Please enter the total number " + 
    		    "of time periods you want to track", "int"))];
    		for (int i = 0; i < userHeight.length; i++)
    		{
    			userHeight[i] = Integer.parseInt(getInput("Please enter the next height of your plant.", "int")); 
    		}
    		return userHeight;
	    }
	}
    public void formatOutput(int[] height1, int timeIn)
	{
	    char zeroChar = '|'; 
		if (decideSymbols(height1, timeIn).charAt(0) == '-')
		{
			zeroChar = '-';
		}
		else if (decideSymbols(height1, timeIn).charAt(0) == '+')
		{
			zeroChar = '+';
		}
		else 
		{
			//nothing because (decideSymbols(timeIn).charAt(0) = 'o')
		}
		String before = ""; 
		String after = "";
		if (zeroChar == '-')
		    before = decideSymbols(height1, timeIn);
		else if (zeroChar == '+')
		    after = decideSymbols(height1, timeIn);
		
		System.out.printf("%-5s%6s%1s%s\n", ("t" + (timeIn-1)), before, zeroChar, after); 
	}
	public String decideSymbols(int[] height1, int timeIn)
	{
    	String returnString = "";
    	char type;
    	if (timeIn == 1)
    	    type = 'o';
    	else
    	{
			//comparing, don't need to add 5 here 
        	if(height1[timeIn] > height1[(timeIn - 1)]) //increase as time increases
        	    type = '+';
        	else if(height1[timeIn] < height1[(timeIn - 1)]) //decrease as time increases
        	    type = '-';
        	else //no change 
        	    type = 'o';
    	}
    	
    	//building the symbol string; if negative, gets absolute value 
    	for(int i = 0; i < (Math.abs(height1[timeIn])); i++)
    	{
    	    returnString = returnString + type;
    	}
    	return returnString;
	}
	public void printSymbols(int[] height1, int timeIn)
	{
		System.out.printf("%-5s " + decideSymbols(height1, timeIn) + "\n", ("t" + (timeIn-1))); 
		    //prints time index - 1 (to symbolize initial state), the symbols, and the new line. 
	}
	
	public void printRate(int[] height1)
	{
		//System.out.println((height1[(height1.length-1)] + 5) + " " + height1[0] + " " + (height1.length-1));
		System.out.printf("The average rate of change is about %.2f units/measurement of time. \n", 
			(((double)(height1[(height1.length-1)]) - height1[0]) / (height1.length-1)));
		    //last item - first item divided by length minus one (because of initial height)
	}
	
	
	
	
	
	
	
	
	
	
    public boolean userPlaying()
    {
        boolean userPlay;
        String userDecision = getInput("Would you like to run again? [Yes/No]", "next");
        if (userDecision.equalsIgnoreCase("Yes"))
            userPlay = true;
        else if (userDecision.equalsIgnoreCase("No"))
            userPlay = false;
        else //user did not input yes or no 
        {
            System.out.println("Please enter either \"Yes\" or \"No\".\n");
            userPlay = userPlaying();
                //call userPlaying again 
        }
        return userPlay;
    }
    public String getInput(String promptIn, String get)
    {
        Scanner keyboard = new Scanner(System.in);
        System.out.print(promptIn + "\n\t-->\t"); //print the prompt passed in 
        if (get.equalsIgnoreCase("line"))
            return keyboard.nextLine();
        else if (get.equalsIgnoreCase("word")||get.equalsIgnoreCase("next"))
            return keyboard.next();
        else if (get.equalsIgnoreCase("int"))
        {
			if (onlyHas(get, "int"))
				return ("" + keyboard.nextInt());
					//will have to Integer.parseInt(getInput("prompt", "int")) to return integer 
            else 
            {
				System.out.println("Error: Received other data type when " + 
					"expected int (Your number will be stored as \'0\').");
				return ("" + 0);
					//will still have to parse int
			}
        }
        else if (get.equalsIgnoreCase("double"))
        {
			if (onlyHas(get, "double"))
				return ("" + keyboard.nextDouble());
					//will have to Double.parseDouble(getInput("prompt", "int")) to return double 
            else 
            {
				System.out.println("Error: Received other data type when " + 
					"expected double (Your number will be stored as \'0.0\').");
				return ("" + 0);
					//will still have to parse double
			}
        }
        else 
        {
            System.out.println("Internal error: getInput method; unrecognized get parameter");
            return null;
        }
    }
    public boolean onlyHas(String getIn, String intOrDouble)
    {
		if (intOrDouble.equalsIgnoreCase("int") || intOrDouble.equalsIgnoreCase("double"))
		{
			for (int i = 0; i < (getIn.length() - 1); i++)
			{
				if ((int)(getIn.charAt(i)) >= 49 && (int)(getIn.charAt(i)) <= 1)
				{
					//if within ascii range of numbers, continue with the program
				}
				else if (((int)(getIn.charAt(i)) == 46) && intOrDouble.equalsIgnoreCase("double"))
				{
					//continue with the program but ONLY if it's in double 
				}
				else
					return false; //no longer purely numbers 
			}
			return true; //it made it out without returning false 
		}
		else
		{
			System.out.println("Internal error: onlyHas method; unrecognized intOrDouble parameter (returned false)");
			return false;
		}
	}
}
